# 7.13 论文笔记

> 这次读的是*宁咏梅*硕士论文*智能卡操作系统的系统测试方法的设计与实现*这篇论文，我只想说真的长啊，而且时间还挺早的，不过还好是中文的论文，这样子就好说了。

## 笔记

### 研究背景

这个就没啥大问题了，主要和我之前的那篇论文笔记讲的差不多，主要讲了智能卡用途(SIM卡，身份证，社保卡，银行卡，交通卡等)，即IC卡，遵循```ISO/IEC 14443协议的非接触卡片和遵循ISO/IEC 7816协议的接触式卡片```。

### 研究目的与意义

就是为了使卡变得更加有效和安全

### 研究目标和内容

1. 分析软件，已经相应环境测试
2. 提出测试内容和方法
3. 对实例进行测试

## 现状

嵌入式软件测试特点

1. 具有特定环境
2. 与宿主机环境有关联
3. 具有实时性

这里是基于FPGA平台为宿主机环境 ，主要进行以下测试:

1. 功能测试 数据驱动的测试，忽略系统或部件内部机制，只集中于响应所选择的输入在一定的执行条件下产生输出的一种测试。只需要根据软件的用途和外部特征查找软件BUG，对于软硬件之间的接口也要检查。
2. 性能测试，性能需求依从性的测试，在一定时间内要计算出某一种算法的结果，在规定时间内处理一个中断。
3. 恢复测试， 主要指的是出现错误(软件或者硬件)不能正常工作的时候，对系统的恢复能力的测试

还有强度测试等等

## 测试方法

主要是静态调试和动态测试，按照一般的对于计算机的套路就可以，代码走查，审计。动态调试主要是黑盒测试:

* 等价类划分方法
* 边界值分析方法
* 错误推测方法
* 因果分析方法

白盒测试:

* 分支测试
* 路径测试
* 语句测试
* 判定测试

灰盒测试:

同时关注代码和表象来分析特定情况

## 组成

>  这个就和之前看的文章内容差不多了啊

构成:

* 通信管理模块
* 命令解释模块
* 安全管理模块
* 应用管理模块

![](https://github.com/Edgaraaa/summer_hoilday2019/blob/master/7.13/img/1.png?raw=true)

COS的文件按照其所处的逻辑层次分成三类:主文件，专用文件以及基本文件。COS文件有四种逻辑结构:透明结构，线性定长结构，线性变长结构，定长循环结构。卡上最重要的存取方式是随机存取，卡的用户得到授权之后 ，可以直接的任意的访问文件中某个数据单元或记录

## 系统测试

### 测试环境

* FPGA
* 仿真器
* 软掩膜卡

分为三个阶段:

* 开发阶段
* 样卡阶段
* 客户试用阶段

### 测试用例设计

COS定义的四种状态

1. *State_Erfor* 指令语法错误和指令执行时出现错误
2. *State Timeout* 存在Lc时需要接受数据，如果接受数据超时，返回此状态
3. *State-Success* 指令成功执行时返回的状态，不包括需要*GetResponse*指令取数据的情况
4. *State-Response*处理结束后，把需要返回的数据放到*GetResponse*专用缓冲区中，这时候为*State Response*状态，并返回状态字节为61XX。

安全测试用例设计

协议测试，恢复测试和耐久性测试



## 金融智能卡分析实例



